<?xml version="1.0" encoding="UTF-8"?>
<configuration>

    <!-- Define a JSON encoder for logging -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">
            <providers>
                <!-- Add standard fields like timestamp, log level, thread, logger, etc. -->
                <provider class="net.logstash.logback.encoder.org.apache.logging.log4j.layout.PatternLayoutJsonProvider">
                    <pattern>{"timestamp":"%date{ISO8601}", "level":"%level", "thread":"%thread", "logger":"%logger", "message":"%message"}</pattern>
                </provider>
                <!-- Optional: Include exception stack traces -->
                <provider class="net.logstash.logback.encoder.LogstashMarkerJsonProvider" />
            </providers>
        </encoder>
    </appender>

    <!-- Root logger configuration -->
    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
    </root>

</configuration>
